<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prank</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="icon" type="image/png" href="favicon.png">
<style>
    body {
        margin: 0;
        background: black;
        color: white;
        font-family: "Times New Roman", serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        text-align: center;
        overflow: hidden;
    }
    #container { max-width: 600px; z-index: 2; position: relative; }
    button {
        font-family: "Times New Roman", serif;
        color: white;
        background: #222;
        border: 2px solid white;
        padding: 15px 40px;
        font-size: 20px;
        cursor: pointer;
        margin: 20px;
        transition: 0.3s;
    }
    button:hover { background: #444; }

    video {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        z-index: 1;
        background: black;
    }

    #glitch {
        display: none;
        position: fixed;
        inset: 0;
        background: repeating-linear-gradient(
            black 0px,
            #111 2px,
            black 4px
        );
        opacity: 0;
        animation: glitchFade 1s forwards;
        z-index: 3;
    }

    @keyframes glitchFade {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }
</style>
</head>
<body>

<div id="container">
    <h1>Choose an option</h1>
    <button onclick="startPrank()">Option 1</button>
    <button onclick="startPrank()">Option 2</button>
</div>

<video id="vid" playsinline>
    <source src="Jeff_Woods02.mp4" type="video/mp4">
</video>

<audio id="ominous" loop>
    <source src="ominous.mp3" type="audio/mpeg">
</audio>

<audio id="prankvoice">
    <source src="beep.mp3" type="audio/mpeg">
</audio>

<div id="glitch"></div>

<script>
const video = document.getElementById("vid");
const ominous = document.getElementById("ominous");
const prankvoice = document.getElementById("prankvoice");
const glitch = document.getElementById("glitch");

const prankImages = [
    {file: "pranked1.jpg", name: "i1.jpg"},
    {file: "pranked2.jpg", name: "see2.jpg"},
    {file: "pranked3.jpg", name: "you3.jpg"}
];

function forceDownload(file, name) {
    fetch(file)
    .then(res => res.blob())
    .then(blob => {
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = name;
        document.body.appendChild(link);
        link.click();
        link.remove();
        URL.revokeObjectURL(url);
    });
}

function startPrank() {
    ominous.volume = 0.4;
    prankvoice.volume = 0.8;

    ominous.play().catch(() => console.log("Ominous blocked"));
    prankvoice.play().catch(() => console.log("Prank voice blocked"));

    video.style.display = "block";
    if (video.requestFullscreen) video.requestFullscreen();
    video.play();

    video.onended = () => {
        glitch.style.display = "block";
        prankImages.forEach((img, i) => {
            setTimeout(() => {
                forceDownload(img.file, img.name);
            }, 600 * i);
        });
    };
}
</script>

</body>
</html>
